<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QS University Ranking API</title>
    <!-- Foundation CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.5/dist/css/foundation.min.css">
</head>
<body>
<header>
    <div class="top-bar">
        <div class="top-bar-left">
            <ul class="dropdown menu" data-dropdown-menu>
                <li class="menu-text">QS University Ranking API</li>
                <li><a href="#">Home</a></li>
                <li><a href="#">API Docs</a></li>
                <li><a href="#">About</a></li>
            </ul>
        </div>
        <div class="top-bar-right">
            <ul class="menu">
                <li><input type="search" placeholder="Search"></li>
                <li><button type="button" class="button">Search</button></li>
            </ul>
        </div>
    </div>
</header>
<div class="grid-container">
<main>
    <div class="grid-container">
    <h1>QS University Ranking API</h1>
    <!-- Content goes here -->
    <p>This page demonstrates how to use the QS University Ranking API.</p>
    <p>Make sure your API server is running at <code>http://localhost:8000/api/university</code>.</p>
    <p>Check the console for API response data.</p>

    <!-- Container to show university data -->
     <div class="university">

     </div>
</div>
</main>
<footer class="footer">
    <div class="grid-container">
        <div class="grid-x grid-padding-x align-justify">
            <div class="cell small-12 medium-shrink">
                <p>&copy; 2025 QS University Ranking API</p>
            </div>
            <div class="cell small-12 medium-shrink text-right">
                <ul class="menu align-right">
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Privacy</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- Foundation JS -->
<script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.5/dist/js/foundation.min.js"></script>
<script>
    $(document).foundation();
    $(document).ready(function() {
        // Initialize Foundation
        $(document).foundation();

        // make API call to http://localhost:8000/api/university
        $.ajax({
            url: 'http://localhost:8000/api/university',
            method: 'GET',
            success: function(data) {
                console.log('API Response:', data.results);
                // Assuming data.results is an array of university objects
                let $container = $('.university');
                $container.empty();
                data.results.forEach(function(univ) {
                    let card = `
                        <div class="card" style="margin-bottom: 1rem;">
                            <div class="card-divider">
                                <strong>${univ.name}</strong> (${univ.country})
                            </div>
                            <div class="card-section">
                                <p><strong>Rank:</strong> ${univ.rank}</p>
                                <p><strong>Score:</strong> ${univ.score_scaled}</p>
                                <p><strong>Location:</strong> ${univ.location}</p>
                                <ul>
                                    <li><strong>AR Rank:</strong> ${univ.ar_rank}, <strong>Score:</strong> ${univ.ar_score}</li>
                                    <li><strong>CPF Rank:</strong> ${univ.cpf_rank}, <strong>Score:</strong> ${univ.cpf_score}</li>
                                    <li><strong>FSR Rank:</strong> ${univ.fsr_rank}, <strong>Score:</strong> ${univ.fsr_score}</li>
                                    <li><strong>GER Rank:</strong> ${univ.ger_rank}, <strong>Score:</strong> ${univ.ger_score}</li>
                                    <li><strong>IFR Rank:</strong> ${univ.ifr_rank}, <strong>Score:</strong> ${univ.ifr_score}</li>
                                    <li><strong>IRN Rank:</strong> ${univ.irn_rank}, <strong>Score:</strong> ${univ.irn_score}</li>
                                    <li><strong>ISR Rank:</strong> ${univ.isr_rank}, <strong>Score:</strong> ${univ.isr_score}</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    $container.append(card);
                });
                // Process and display the data as needed
            },
            error: function(error) {
                console.error('Error fetching data:', error);
            }
        });
    });
</script>
</body>
</html>